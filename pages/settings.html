<!-- Settings Page - All of the user settings generated from settings.js -->

<div class="page-title">{{ translate("SETTINGS_TITLE") }}</div>
<div class="setting" v-for="(setting, key) in settings">
  <div>
    <span class="title">{{ translate("SETTINGS_" + key + "_TITLE") }}</span>
    <span class="badge" v-if="setting.new">NEW</span>
    <span class="badge experimental" v-if="setting.experimental">!</span>
    <div class="description">{{ translate("SETTINGS_" + key + "_DESC") }}</div>
  </div>
  <div>
    <div class="toggle" v-if="setting.mode == 'toggle'" v-scope="{ value: userSettings[key] }">
      <!-- TOGGLE Setting -->
      <div class="toggle-option" v-for="option in setting.options" tabindex="0" v-bind:class="{ 'selected': value == option[0] }" @click="changeSetting(key, option[0]); value = option[0]; if(setting.reload) location.reload();" v-bind:class="{ 'selected': userSettings[key] == option.value }">{{ translate(option.text) }}</div>
    </div>
    <select class="select" v-if="setting.mode == 'dropdown'" :selectedIndex="setting.options.indexOf(userSettings[key])" @change="changeSetting(key, setting.options[$el.selectedIndex]); if(setting.reload) location.reload();">
      <!-- DROPDOWN Setting -->
      <option class="select-option" v-for="option in setting.options">{{ translate(option) }}</option>
    </select>
    <div v-if="setting.mode == 'slider'">
      <!-- SLIDER Settings -->
      <input v-if="key == 'COLOR_THEME'" class="color-slider" :id="key" type="range" :max="setting.max" :min="setting.min" :value="userSettings[key]" v-on:input="changeHue($el.value)" @click="themeChange()" v-on:change="changeSetting(key, $el.value)" />
      <input v-else class="slider" :id="key" type="range" :max="setting.max" :min="setting.min" :value="userSettings[key]" v-on:change="changeSetting(key, $el.value)" />
    </div>
  </div>
</div>

<!-- Always visible settings -->

<div class="setting">
  <div>
    <span class="title">{{ translate("SETTINGS_CLASS_NAMES_TITLE") }}</span>
    <div class="description">{{ translate("SETTINGS_CLASS_NAMES_DESC") }}</div>
  </div>
  <div class="button-wrapper">
    <div class="button" @click="switchPage(Pages.ClassNames)" tabindex="0">{{ translate("CONFIGURE") }}</div>
  </div>
</div>
<div class="setting">
  <div>
    <span class="title">{{ translate("SETTINGS_SHARE_TITLE") }}</span>
    <div class="description">{{ translate("SETTINGS_SHARE_DESC") }}</div>
  </div>
  <div class="button-wrapper">
    <div class="button" @click="shareSettings()" tabindex="0">{{ translate("SHARE_SETTINGS") }}</div>
    <div class="button" @click="shareClassNames()" tabindex="0">{{ translate("SHARE_CLASS_NAMES") }}</div>
    <div class="share-link" v-effect="$el.textContent = shareLink" @click="$el.focus(); $el.select();" tabindex="0"></div>
  </div>
</div>
<div class="setting" style="position: relative; z-index: 999">
  <div>
    <span class="title">Reset</span>
    <div class="description">Reset any of the data stored in your local storage. Try using this if the page isn't working. (Try reloading first)</div>
  </div>
  <div class="button-wrapper">
    <div class="button" onclick="localStorage.removeItem('settings'); location.reload()" tabindex="0">Reset Settings</div>
    <div class="button" onclick="localStorage.removeItem('customNamesJSON'); location.reload()" tabindex="0">Reset Class Names</div>
    <div class="button" onclick="localStorage.removeItem('scheduleJSON'); localStorage.removeItem('eventsJSON'); localStorage.removeItem('languageJSON'); location.reload()" tabindex="0">Reset Local Storage</div>
  </div>
</div>
